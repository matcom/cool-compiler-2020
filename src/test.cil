TYPES -->

	type Object {
		method abort:Object_abort
		method type_name:Object_type_name
		method copy:Object_copy
	}

	type IO {
		method out_string:IO_out_string
		method out_int:IO_out_int
		method in_string:IO_in_string
		method in_int:IO_in_int
		method abort:Object_abort
		method type_name:Object_type_name
		method copy:Object_copy
	}

	type String {
		method length:String_length
		method concat:String_concat
		method substr:String_substr
		method abort:Object_abort
		method type_name:Object_type_name
		method copy:Object_copy
	}

	type Int {
		method abort:Object_abort
		method type_name:Object_type_name
		method copy:Object_copy
	}

	type Bool {
		method abort:Object_abort
		method type_name:Object_type_name
		method copy:Object_copy
	}

	type A2I {
		method c2i:A2I_c2i
		method i2c:A2I_i2c
		method a2i:A2I_a2i
		method a2i_aux:A2I_a2i_aux
		method i2a:A2I_i2a
		method i2a_aux:A2I_i2a_aux
		method abort:Object_abort
		method type_name:Object_type_name
		method copy:Object_copy
	}

	type Main {
		method main:Main_main
		method out_string:IO_out_string
		method out_int:IO_out_int
		method in_string:IO_in_string
		method in_int:IO_in_int
		method abort:Object_abort
		method type_name:Object_type_name
		method copy:Object_copy
	}

END <--

DATA -->

	data_0 "0"
	data_1 "1"
	data_2 "2"
	data_3 "3"
	data_4 "4"
	data_5 "5"
	data_6 "6"
	data_7 "7"
	data_8 "8"
	data_9 "9"
	data_10 "0"
	data_11 "1"
	data_12 "2"
	data_13 "3"
	data_14 "4"
	data_15 "5"
	data_16 "6"
	data_17 "7"
	data_18 "8"
	data_19 "9"
	data_20 ""
	data_21 "-"
	data_22 "+"
	data_23 "0"
	data_24 "-"
	data_25 ""
	data_26 "678987"
	data_27 " == "
	data_28 "\n"

END <--

CODE -->

	function IO_out_string {
		PARAM self
		PARAM str
		PRINT str
		RETURN self
	}

	function IO_out_int {
		PARAM self
		PARAM int
		PINT int
		RETURN self
	}

	function IO_in_string {
		PARAM self
		LOCAL local_0
		ALLOC local_0 String
		READ local_0
		RETURN local_0
	}

	function IO_in_int {
		PARAM self
		LOCAL local_1
		ALLOC local_0 Int
		RINT local_0
		RETURN local_0
	}

	function Object_type_name {
		PARAM self
		LOCAL local_2
		LOCAL local_3
		ALLOC local_0 Int
		ALLOC local_1 String
		TYPE local_0 self
		TYPENAME local_1 local_0
		RETURN local_1
	}

	function Object_copy {
		PARAM self
		LOCAL local_4
		COPY local_0 self
		RETURN local_0
	}

	function String_length {
		PARAM self
		LOCAL local_5
		ALLOC local_0 Int
		STRLEN local_0 self
		RETURN local_0
	}

	function String_concat {
		PARAM self
		PARAM str
		LOCAL local_6
		ALLOC local_0 String
		STRCAT local_0 self str
		RETURN local_0
	}

	function String_substr {
		PARAM self
		PARAM from
		PARAM to
		LOCAL local_7
		ALLOC local_0 String
		STRSUB local_0 self from to
		RETURN local_0
	}

	function Object_abort {
		PARAM self
		LOCAL local_8
		ALLOC local_0 Int
		TYPE local_0 self
		EXIT
	}

	function A2I_c2i {
		PARAM self
		PARAM char
		LOCAL local_0
		LOCAL local_1
		LOCAL local_2
		LOCAL local_3
		LOCAL local_4
		LOCAL local_5
		LOCAL local_6
		LOCAL local_7
		LOCAL local_8
		LOCAL local_9
		LOCAL local_10
		LOCAL local_11
		LOCAL local_12
		LOCAL local_13
		LOCAL local_14
		LOCAL local_15
		LOCAL local_16
		LOCAL local_17
		LOCAL local_18
		LOCAL local_19
		LOCAL local_20
		LOCAL local_21
		LOCAL local_22
		LOCAL local_23
		LOCAL local_24
		LOCAL local_25
		LOCAL local_26
		LOCAL local_27
		LOCAL local_28
		LOCAL local_29
		LOCAL local_30
		LOCAL local_31
		LOCAL local_32
		LOCAL local_33
		LOCAL local_34
		LOCAL local_35
		LOCAL local_36
		LOCAL local_37
		LOCAL local_38
		LOCAL local_39
		LOCAL local_40
		LOCAL local_41
		LOCAL local_42
		ALLOC local_1 Bool
		ALLOC local_0 String
		LDATA local_0 data_23
		E local_1 char local_0
		IF local_1 GOTO label_19
		ALLOC local_4 Bool
		ALLOC local_3 String
		LDATA local_3 data_11
		E local_4 char local_3
		IF local_4 GOTO label_17
		ALLOC local_7 Bool
		ALLOC local_6 String
		LDATA local_6 data_12
		E local_7 char local_6
		IF local_7 GOTO label_15
		ALLOC local_10 Bool
		ALLOC local_9 String
		LDATA local_9 data_13
		E local_10 char local_9
		IF local_10 GOTO label_13
		ALLOC local_13 Bool
		ALLOC local_12 String
		LDATA local_12 data_14
		E local_13 char local_12
		IF local_13 GOTO label_11
		ALLOC local_16 Bool
		ALLOC local_15 String
		LDATA local_15 data_15
		E local_16 char local_15
		IF local_16 GOTO label_9
		ALLOC local_19 Bool
		ALLOC local_18 String
		LDATA local_18 data_16
		E local_19 char local_18
		IF local_19 GOTO label_7
		ALLOC local_22 Bool
		ALLOC local_21 String
		LDATA local_21 data_17
		E local_22 char local_21
		IF local_22 GOTO label_5
		ALLOC local_25 Bool
		ALLOC local_24 String
		LDATA local_24 data_18
		E local_25 char local_24
		IF local_25 GOTO label_3
		ALLOC local_28 Bool
		ALLOC local_27 String
		LDATA local_27 data_19
		E local_28 char local_27
		IF local_28 GOTO label_1
		LOCALSAVE
		ARG self
		ALLOC local_31 Int
		TYPE local_31 self
		CALL local_30 local_31 abort
		ALLOC local_32 Int
		MOV local_32 0
		MOV local_33 local_32
		GOTO label_2
		LABEL label_1
		ALLOC local_29 Int
		MOV local_29 9
		MOV local_33 local_29
		LABEL label_2
		MOV local_34 local_33
		GOTO label_4
		LABEL label_3
		ALLOC local_26 Int
		MOV local_26 8
		MOV local_34 local_26
		LABEL label_4
		MOV local_35 local_34
		GOTO label_6
		LABEL label_5
		ALLOC local_23 Int
		MOV local_23 7
		MOV local_35 local_23
		LABEL label_6
		MOV local_36 local_35
		GOTO label_8
		LABEL label_7
		ALLOC local_20 Int
		MOV local_20 6
		MOV local_36 local_20
		LABEL label_8
		MOV local_37 local_36
		GOTO label_10
		LABEL label_9
		ALLOC local_17 Int
		MOV local_17 5
		MOV local_37 local_17
		LABEL label_10
		MOV local_38 local_37
		GOTO label_12
		LABEL label_11
		ALLOC local_14 Int
		MOV local_14 4
		MOV local_38 local_14
		LABEL label_12
		MOV local_39 local_38
		GOTO label_14
		LABEL label_13
		ALLOC local_11 Int
		MOV local_11 3
		MOV local_39 local_11
		LABEL label_14
		MOV local_40 local_39
		GOTO label_16
		LABEL label_15
		ALLOC local_8 Int
		MOV local_8 2
		MOV local_40 local_8
		LABEL label_16
		MOV local_41 local_40
		GOTO label_18
		LABEL label_17
		ALLOC local_5 Int
		MOV local_5 1
		MOV local_41 local_5
		LABEL label_18
		MOV local_42 local_41
		GOTO label_20
		LABEL label_19
		ALLOC local_2 Int
		MOV local_2 0
		MOV local_42 local_2
		LABEL label_20
		RETURN local_42
	}

	function A2I_i2c {
		PARAM self
		PARAM i
		LOCAL local_0
		LOCAL local_1
		LOCAL local_2
		LOCAL local_3
		LOCAL local_4
		LOCAL local_5
		LOCAL local_6
		LOCAL local_7
		LOCAL local_8
		LOCAL local_9
		LOCAL local_10
		LOCAL local_11
		LOCAL local_12
		LOCAL local_13
		LOCAL local_14
		LOCAL local_15
		LOCAL local_16
		LOCAL local_17
		LOCAL local_18
		LOCAL local_19
		LOCAL local_20
		LOCAL local_21
		LOCAL local_22
		LOCAL local_23
		LOCAL local_24
		LOCAL local_25
		LOCAL local_26
		LOCAL local_27
		LOCAL local_28
		LOCAL local_29
		LOCAL local_30
		LOCAL local_31
		LOCAL local_32
		LOCAL local_33
		LOCAL local_34
		LOCAL local_35
		LOCAL local_36
		LOCAL local_37
		LOCAL local_38
		LOCAL local_39
		LOCAL local_40
		LOCAL local_41
		LOCAL local_42
		ALLOC local_1 Bool
		ALLOC local_0 Int
		MOV local_0 0
		E local_1 i local_0
		IF local_1 GOTO label_39
		ALLOC local_4 Bool
		ALLOC local_3 Int
		MOV local_3 1
		E local_4 i local_3
		IF local_4 GOTO label_37
		ALLOC local_7 Bool
		ALLOC local_6 Int
		MOV local_6 2
		E local_7 i local_6
		IF local_7 GOTO label_35
		ALLOC local_10 Bool
		ALLOC local_9 Int
		MOV local_9 3
		E local_10 i local_9
		IF local_10 GOTO label_33
		ALLOC local_13 Bool
		ALLOC local_12 Int
		MOV local_12 4
		E local_13 i local_12
		IF local_13 GOTO label_31
		ALLOC local_16 Bool
		ALLOC local_15 Int
		MOV local_15 5
		E local_16 i local_15
		IF local_16 GOTO label_29
		ALLOC local_19 Bool
		ALLOC local_18 Int
		MOV local_18 6
		E local_19 i local_18
		IF local_19 GOTO label_27
		ALLOC local_22 Bool
		ALLOC local_21 Int
		MOV local_21 7
		E local_22 i local_21
		IF local_22 GOTO label_25
		ALLOC local_25 Bool
		ALLOC local_24 Int
		MOV local_24 8
		E local_25 i local_24
		IF local_25 GOTO label_23
		ALLOC local_28 Bool
		ALLOC local_27 Int
		MOV local_27 9
		E local_28 i local_27
		IF local_28 GOTO label_21
		LOCALSAVE
		ARG self
		ALLOC local_31 Int
		TYPE local_31 self
		CALL local_30 local_31 abort
		ALLOC local_32 String
		LDATA local_32 data_25
		MOV local_33 local_32
		GOTO label_22
		LABEL label_21
		ALLOC local_29 String
		LDATA local_29 data_19
		MOV local_33 local_29
		LABEL label_22
		MOV local_34 local_33
		GOTO label_24
		LABEL label_23
		ALLOC local_26 String
		LDATA local_26 data_18
		MOV local_34 local_26
		LABEL label_24
		MOV local_35 local_34
		GOTO label_26
		LABEL label_25
		ALLOC local_23 String
		LDATA local_23 data_17
		MOV local_35 local_23
		LABEL label_26
		MOV local_36 local_35
		GOTO label_28
		LABEL label_27
		ALLOC local_20 String
		LDATA local_20 data_16
		MOV local_36 local_20
		LABEL label_28
		MOV local_37 local_36
		GOTO label_30
		LABEL label_29
		ALLOC local_17 String
		LDATA local_17 data_15
		MOV local_37 local_17
		LABEL label_30
		MOV local_38 local_37
		GOTO label_32
		LABEL label_31
		ALLOC local_14 String
		LDATA local_14 data_14
		MOV local_38 local_14
		LABEL label_32
		MOV local_39 local_38
		GOTO label_34
		LABEL label_33
		ALLOC local_11 String
		LDATA local_11 data_13
		MOV local_39 local_11
		LABEL label_34
		MOV local_40 local_39
		GOTO label_36
		LABEL label_35
		ALLOC local_8 String
		LDATA local_8 data_12
		MOV local_40 local_8
		LABEL label_36
		MOV local_41 local_40
		GOTO label_38
		LABEL label_37
		ALLOC local_5 String
		LDATA local_5 data_11
		MOV local_41 local_5
		LABEL label_38
		MOV local_42 local_41
		GOTO label_40
		LABEL label_39
		ALLOC local_2 String
		LDATA local_2 data_23
		MOV local_42 local_2
		LABEL label_40
		RETURN local_42
	}

	function A2I_a2i {
		PARAM self
		PARAM s
		LOCAL local_0
		LOCAL local_1
		LOCAL local_2
		LOCAL local_3
		LOCAL local_4
		LOCAL local_5
		LOCAL local_6
		LOCAL local_7
		LOCAL local_8
		LOCAL local_9
		LOCAL local_10
		LOCAL local_11
		LOCAL local_12
		LOCAL local_13
		LOCAL local_14
		LOCAL local_15
		LOCAL local_16
		LOCAL local_17
		LOCAL local_18
		LOCAL local_19
		LOCAL local_20
		LOCAL local_21
		LOCAL local_22
		LOCAL local_23
		LOCAL local_24
		LOCAL local_25
		LOCAL local_26
		LOCAL local_27
		LOCAL local_28
		LOCAL local_29
		LOCAL local_30
		LOCAL local_31
		LOCAL local_32
		LOCAL local_33
		LOCAL local_34
		LOCAL local_35
		LOCAL local_36
		LOCAL local_37
		LOCAL local_38
		LOCAL local_39
		LOCAL local_40
		ALLOC local_3 Bool
		LOCALSAVE
		ARG s
		ALLOC local_1 Int
		TYPE local_1 s
		CALL local_0 local_1 length
		ALLOC local_2 Int
		MOV local_2 0
		E local_3 local_0 local_2
		IF local_3 GOTO label_45
		ALLOC local_10 Bool
		ALLOC local_5 Int
		MOV local_5 0
		ALLOC local_6 Int
		MOV local_6 1
		LOCALSAVE
		ARG s
		ARG local_5
		ARG local_6
		ALLOC local_8 Int
		TYPE local_8 s
		CALL local_7 local_8 substr
		ALLOC local_9 String
		LDATA local_9 data_24
		E local_10 local_7 local_9
		IF local_10 GOTO label_43
		ALLOC local_26 Bool
		ALLOC local_21 Int
		MOV local_21 0
		ALLOC local_22 Int
		MOV local_22 1
		LOCALSAVE
		ARG s
		ARG local_21
		ARG local_22
		ALLOC local_24 Int
		TYPE local_24 s
		CALL local_23 local_24 substr
		ALLOC local_25 String
		LDATA local_25 data_22
		E local_26 local_23 local_25
		IF local_26 GOTO label_41
		LOCALSAVE
		ARG self
		ARG s
		ALLOC local_37 Int
		TYPE local_37 self
		CALL local_36 local_37 a2i_aux
		MOV local_38 local_36
		GOTO label_42
		LABEL label_41
		ALLOC local_27 Int
		MOV local_27 1
		LOCALSAVE
		ARG s
		ALLOC local_29 Int
		TYPE local_29 s
		CALL local_28 local_29 length
		ALLOC local_30 Int
		MOV local_30 1
		ALLOC local_31 Int
		SUB local_31 local_28 local_30
		LOCALSAVE
		ARG s
		ARG local_27
		ARG local_31
		ALLOC local_33 Int
		TYPE local_33 s
		CALL local_32 local_33 substr
		LOCALSAVE
		ARG self
		ARG local_32
		ALLOC local_35 Int
		TYPE local_35 self
		CALL local_34 local_35 a2i_aux
		MOV local_38 local_34
		LABEL label_42
		MOV local_39 local_38
		GOTO label_44
		LABEL label_43
		ALLOC local_20 Int
		ALLOC local_11 Int
		MOV local_11 1
		LOCALSAVE
		ARG s
		ALLOC local_13 Int
		TYPE local_13 s
		CALL local_12 local_13 length
		ALLOC local_14 Int
		MOV local_14 1
		ALLOC local_15 Int
		SUB local_15 local_12 local_14
		LOCALSAVE
		ARG s
		ARG local_11
		ARG local_15
		ALLOC local_17 Int
		TYPE local_17 s
		CALL local_16 local_17 substr
		LOCALSAVE
		ARG self
		ARG local_16
		ALLOC local_19 Int
		TYPE local_19 self
		CALL local_18 local_19 a2i_aux
		CMP local_20 local_18
		MOV local_39 local_20
		LABEL label_44
		MOV local_40 local_39
		GOTO label_46
		LABEL label_45
		ALLOC local_4 Int
		MOV local_4 0
		MOV local_40 local_4
		LABEL label_46
		RETURN local_40
	}

	function A2I_a2i_aux {
		PARAM self
		PARAM s
		LOCAL local_0
		LOCAL local_1
		LOCAL local_2
		LOCAL local_3
		LOCAL local_4
		LOCAL local_5
		LOCAL local_6
		LOCAL local_7
		LOCAL local_8
		LOCAL local_9
		LOCAL local_10
		LOCAL local_11
		LOCAL local_12
		LOCAL local_13
		LOCAL local_14
		LOCAL local_15
		LOCAL local_16
		LOCAL local_17
		LOCAL local_18
		ALLOC local_0 Int
		MOV local_0 0
		ALLOC local_1 Int
		MOV local_1 local_0
		LOCALSAVE
		ARG s
		ALLOC local_3 Int
		TYPE local_3 s
		CALL local_2 local_3 length
		ALLOC local_4 Int
		MOV local_4 local_2
		ALLOC local_5 Int
		MOV local_5 0
		ALLOC local_6 Int
		MOV local_6 local_5
		ALLOC local_18 void
		LABEL label_47
		ALLOC local_7 Bool
		L local_7 local_6 local_4
		IF local_7 GOTO label_48
		GOTO label_49
		LABEL label_48
		ALLOC local_8 Int
		MOV local_8 10
		ALLOC local_9 Int
		Mul local_9 local_1 local_8
		ALLOC local_10 Int
		MOV local_10 1
		LOCALSAVE
		ARG s
		ARG local_6
		ARG local_10
		ALLOC local_12 Int
		TYPE local_12 s
		CALL local_11 local_12 substr
		LOCALSAVE
		ARG self
		ARG local_11
		ALLOC local_14 Int
		TYPE local_14 self
		CALL local_13 local_14 c2i
		ALLOC local_15 Int
		ADD local_15 local_9 local_13
		MOV local_1 local_15
		ALLOC local_16 Int
		MOV local_16 1
		ALLOC local_17 Int
		ADD local_17 local_6 local_16
		MOV local_6 local_17
		GOTO label_47
		LABEL label_49
		RETURN local_1
	}

	function A2I_i2a {
		PARAM self
		PARAM i
		LOCAL local_0
		LOCAL local_1
		LOCAL local_2
		LOCAL local_3
		LOCAL local_4
		LOCAL local_5
		LOCAL local_6
		LOCAL local_7
		LOCAL local_8
		LOCAL local_9
		LOCAL local_10
		LOCAL local_11
		LOCAL local_12
		LOCAL local_13
		LOCAL local_14
		LOCAL local_15
		LOCAL local_16
		ALLOC local_1 Bool
		ALLOC local_0 Int
		MOV local_0 0
		E local_1 i local_0
		IF local_1 GOTO label_52
		ALLOC local_4 Bool
		ALLOC local_3 Int
		MOV local_3 0
		L local_4 local_3 i
		IF local_4 GOTO label_50
		ALLOC local_7 String
		LDATA local_7 data_24
		ALLOC local_9 Int
		ALLOC local_8 Int
		MOV local_8 1
		CMP local_9 local_8
		ALLOC local_10 Int
		Mul local_10 i local_9
		LOCALSAVE
		ARG self
		ARG local_10
		ALLOC local_12 Int
		TYPE local_12 self
		CALL local_11 local_12 i2a_aux
		LOCALSAVE
		ARG local_7
		ARG local_11
		ALLOC local_14 Int
		TYPE local_14 local_7
		CALL local_13 local_14 concat
		MOV local_15 local_13
		GOTO label_51
		LABEL label_50
		LOCALSAVE
		ARG self
		ARG i
		ALLOC local_6 Int
		TYPE local_6 self
		CALL local_5 local_6 i2a_aux
		MOV local_15 local_5
		LABEL label_51
		MOV local_16 local_15
		GOTO label_53
		LABEL label_52
		ALLOC local_2 String
		LDATA local_2 data_23
		MOV local_16 local_2
		LABEL label_53
		RETURN local_16
	}

	function A2I_i2a_aux {
		PARAM self
		PARAM i
		LOCAL local_0
		LOCAL local_1
		LOCAL local_2
		LOCAL local_3
		LOCAL local_4
		LOCAL local_5
		LOCAL local_6
		LOCAL local_7
		LOCAL local_8
		LOCAL local_9
		LOCAL local_10
		LOCAL local_11
		LOCAL local_12
		LOCAL local_13
		LOCAL local_14
		LOCAL local_15
		ALLOC local_1 Bool
		ALLOC local_0 Int
		MOV local_0 0
		E local_1 i local_0
		IF local_1 GOTO label_54
		ALLOC local_3 Int
		MOV local_3 10
		ALLOC local_4 Int
		Div local_4 i local_3
		ALLOC local_5 Int
		MOV local_5 local_4
		LOCALSAVE
		ARG self
		ARG local_5
		ALLOC local_7 Int
		TYPE local_7 self
		CALL local_6 local_7 i2a_aux
		ALLOC local_8 Int
		MOV local_8 10
		ALLOC local_9 Int
		Mul local_9 local_5 local_8
		ALLOC local_10 Int
		SUB local_10 i local_9
		LOCALSAVE
		ARG self
		ARG local_10
		ALLOC local_12 Int
		TYPE local_12 self
		CALL local_11 local_12 i2c
		LOCALSAVE
		ARG local_6
		ARG local_11
		ALLOC local_14 Int
		TYPE local_14 local_6
		CALL local_13 local_14 concat
		MOV local_15 local_13
		GOTO label_55
		LABEL label_54
		ALLOC local_2 String
		LDATA local_2 data_25
		MOV local_15 local_2
		LABEL label_55
		RETURN local_15
	}

	function Main_main {
		PARAM self
		LOCAL local_0
		LOCAL local_1
		LOCAL local_2
		LOCAL local_3
		LOCAL local_4
		LOCAL local_5
		LOCAL local_6
		LOCAL local_7
		LOCAL local_8
		LOCAL local_9
		LOCAL local_10
		LOCAL local_11
		LOCAL local_12
		LOCAL local_13
		LOCAL local_14
		LOCAL local_15
		LOCAL local_16
		LOCAL local_17
		LOCAL local_18
		LOCAL local_19
		ALLOC local_0 A2I
		ALLOC local_1 String
		LDATA local_1 data_26
		LOCALSAVE
		ARG local_0
		ARG local_1
		ALLOC local_3 Int
		TYPE local_3 local_0
		CALL local_2 local_3 a2i
		ALLOC local_4 Int
		MOV local_4 local_2
		ALLOC local_5 A2I
		ALLOC local_6 Int
		MOV local_6 678987
		LOCALSAVE
		ARG local_5
		ARG local_6
		ALLOC local_8 Int
		TYPE local_8 local_5
		CALL local_7 local_8 i2a
		ALLOC local_9 String
		MOV local_9 local_7
		LOCALSAVE
		ARG self
		ARG local_4
		ALLOC local_11 Int
		TYPE local_11 self
		CALL local_10 local_11 out_int
		ALLOC local_12 String
		LDATA local_12 data_27
		LOCALSAVE
		ARG self
		ARG local_12
		ALLOC local_14 Int
		TYPE local_14 self
		CALL local_13 local_14 out_string
		LOCALSAVE
		ARG self
		ARG local_9
		ALLOC local_16 Int
		TYPE local_16 self
		CALL local_15 local_16 out_string
		ALLOC local_17 String
		LDATA local_17 data_28
		LOCALSAVE
		ARG self
		ARG local_17
		ALLOC local_19 Int
		TYPE local_19 self
		CALL local_18 local_19 out_string
		RETURN local_18
	}

	function main {
		LOCAL local_0
		LOCAL local_1
		LOCAL local_0
		LOCAL local_3
		ALLOC local_0 Main
		LOCALSAVE
		ARG local_0
		ALLOC local_3 Int
		TYPE local_3 local_0
		CALL local_1 local_3 main
	}

END <--